<div class="col-12">
  <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
    <div class="p-fluid p-formgrid grid">
         <div class="field col-12 md:col-6">
      <app-input-select label="WarehouseId" formControlName="warehouseId" [options]="optionsDataSources?.['warehousesSelectList']"
        [required]="false" />
    </div>
    <div class="field col-12 md:col-6">
        <app-input-text label="AttachmentUrl" formControlName="attachmentUrl" [required]="false" [readonly]="false" />
        <app-validator-msg [control]="f['attachmenturl']" />
    </div>
    <div class="field col-12 md:col-6">
      <app-input-date label="AdjDate" formControlName="adjDate" [required]="false" />
    </div>

    <!-- product select  -->
    <div class="col-12">
      <app-input-select label="" (onChange)="onProductSelect()" [optionValue]="null"
        [options]="optionsDataSources?.['productsSelectList']" [(ngModel)]="selectedProduct"
        [ngModelOptions]="{standalone: true}" />
    </div>

    <div class="col-12">
      <p-table [value]="productAdjustmentIdDetails.controls" [scrollable]="true" scrollHeight="600px">
        <ng-template pTemplate="header">
          <tr>
            <th style="min-width:100px">Name</th>
            <th style="min-width:70px">Code</th>
            <th style="min-width:70px">Unit Cost</th>
            <th style="min-width:70px">Stock</th>
            <th style="min-width:70px">Quantity</th>
            <th style="min-width:70px">Action</th>
            <th style="min-width:50px">Del</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-field let-i="rowIndex">
          <tr [formGroup]="field">
            <td>{{ field.get('productName').value }}</td>
            <td>{{ field.get('productCode').value }}</td>
            <td>{{ field.get('unitPrice').value }}</td>
            <td>{{ field.get('stock').value }}</td>
            <td>
              <app-input-number formControlName="quantity" textAlign="center" [showButtons]="true" [min]="1" />
            </td>
            <td>
              <app-input-select label="WarehouseId" formControlName="warehouseId" [options]="optionsDataSources?.['warehousesSelectList']" [required]="false" />
            </td>
            <td>
              <app-input-text formControlName="batchNo" />
            </td>
            <td>
              <app-button type="button" severity="danger" icon="pi pi-trash" (click)="removeAdjDetail(i)" />
            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="footer">
          <!-- <tr class="text-center">
            <td colspan="2" class="text-left">Total</td>
            <td class="text-center">{{ totalQuantity }}</td>
            <td></td>
            <td></td>
            <td class="text-center">{{ totalDiscount | number:'1.2-2'}}</td>
            <td class="text-center">{{ totalTaxAmount | number:'1.2-2'}}</td>
            <td class="text-right mr-2">{{ subTotal | number:'1.2-2'}}</td>
            <td></td>
          </tr> -->
        </ng-template>
      </p-table>
    </div>

    <div class="field col-12 md:col-6">
        <app-input-text label="Note" formControlName="note" [required]="false" [readonly]="false" />
        <app-validator-msg [control]="f['note']" />
    </div>


    </div>

    <div class="mt-3 p-dialog-footer">
      <app-button label="Cancel" type="button" icon="pi pi-times" [text]="true" severity="warning"
        (onClick)="cancel()" />
      <app-button label="Save" type="submit" icon="pi pi-check" [text]="true" [disabled]="form.invalid" />
    </div>
  </form>
</div>