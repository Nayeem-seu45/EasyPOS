<div class="col-12" *ngIf="item">
  <form #workingShiftForm="ngForm" (ngSubmit)="onSubmit()" novalidate>
    <div class="p-fluid p-formgrid grid">

      <!-- Shift Name -->
      <div class="field col-12 md:col-6">
        <app-input-text 
          label="Shift Name" 
          [(ngModel)]="item.shiftName" 
          name="shiftName" 
          [required]="true" 
          [readonly]="false">
        </app-input-text>
        <app-validator-msg [control]="workingShiftForm.controls['shiftName']"/>
      </div>

      <!-- Description -->
      <div class="field col-12 md:col-6">
        <app-input-text 
          label="Description" 
          [(ngModel)]="item.description" 
          name="description" 
          [required]="false" 
          [readonly]="false">
        </app-input-text>
        <app-validator-msg [control]="workingShiftForm.controls['description']"/>
      </div>

      <!-- Is Active -->
      <div class="field col-12 md:col-6 md:flex align-items-center md:mt-4">
        <app-input-switch 
          label="Is Active" 
          [(ngModel)]="item.isActive" 
          name="isActive">
        </app-input-switch>
      </div>

    </div>

    <div class="card">
      <p-table [value]="item.workingShiftDetails" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th>Day</th>
                <th>Start Time</th>
                <th>End Time</th>
                <th>Weekend</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-shiftDetail let-i="rowIndex">
            <tr>
              <td>
                <app-input-text [(ngModel)]="shiftDetail.dayNameOfWeek" name="dayNameOfWeek-{{i}}" [readonly]="true" [disabled]="true"  />
              </td>
              <td>
                <app-input-time [(ngModel)]="shiftDetail.startTime" name="startTime-{{i}}"  />
              </td>
              <td>
                <app-input-time [(ngModel)]="shiftDetail.endTime" name="endTime-{{i}}"  />
              </td>
              <td>
                <app-input-switch  [(ngModel)]="shiftDetail.isWeekend" name="isWeekend-{{i}}" />
              </td>
            </tr>
        </ng-template>
      </p-table>
    </div>

    <!-- Form Buttons -->
    <div class="mt-3 p-dialog-footer">
      <app-button 
        label="Cancel" 
        type="button" 
        icon="pi pi-times" 
        [text]="true" 
        severity="warning" 
        (onClick)="cancel()">
      </app-button>
      <app-button 
        label="Save" 
        type="submit" 
        icon="pi pi-check" 
        [text]="true" 
        [disabled]="!workingShiftForm.valid">
      </app-button>
    </div>
  </form>
</div>
