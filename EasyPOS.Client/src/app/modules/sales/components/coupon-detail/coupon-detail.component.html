<div class="col-12">
  <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
    <div class="p-fluid p-formgrid grid">
      <div class="field col-12 md:col-6">
        <app-input-text label="Code" formControlName="code" [required]="false" [readonly]="false" />
        <app-validator-msg [control]="f['code']" />
      </div>
      <div class="field col-12 md:col-6">
        <app-input-text label="Name" formControlName="name" [required]="false" [readonly]="false" />
        <app-validator-msg [control]="f['name']" />
      </div>
      <div class="field col-12 md:col-6">
        <app-input-text label="Description" formControlName="description" [required]="false" [readonly]="false" />
        <app-validator-msg [control]="f['description']" />
      </div>
    </div>

    <div class="coupon-tab">
      <p-tabView [(activeIndex)]="activeTabIndex" styleClass="orientation-right">
        <p-tabPanel header="General" leftIcon="pi pi-bell">
          <div class="field grid md:mb-2">
            <label for="discountType" class="col-12 mb-2 md:col-4">Discount Type</label>
            <div class="field col-12 md:col-8">
              <app-input-select formControlName="discountType"
                [options]="discountTypesSelectList" [required]="true" />
            </div>
          </div>
          <div class="field grid md:mb-2">
            <label for="amount" class="col-12 mb-2 md:col-4">Amount</label>
            <div class="col-12 md:col-8">
              <app-input-decimal formControlName="amount" textAlign="right" 
                [showButtons]="false" [required]="false" id="amount" />
            </div>
          </div>
          <div class="field grid md:mb-2">
            <label for="expiryDate" class="col-12 mb-2 md:col-4">Expiry Date</label>
            <div class="col-12 md:col-8">
              <app-input-date formControlName="expiryDate" textAlign="right"
                 [required]="false" id="expiryDate" />
            </div>
          </div>
          <div class="field grid md:mb-2">
            <label for="expiryDate" class="col-12 mb-2 md:col-4">Allow Free Shipping</label>
            <div class="col-12 md:col-8">
              <app-input-switch formControlName="allowFreeShipping" />
            </div>
          </div>
        </p-tabPanel>

        <p-tabPanel header="Usage Restriction" leftIcon="pi pi-bookmark">
          <div class="field grid md:mb-2">
            <label for="minimumSpend" class="col-12 mb-2 md:col-4">Minimum Spend</label>
            <div class="col-12 md:col-8">
              <app-input-decimal formControlName="minimumSpend" textAlign="right"
                [showButtons]="false" [required]="false" id="minimumSpend" />
            </div>
          </div>
          <div class="field grid md:mb-2">
            <label for="maximumSpend" class="col-12 mb-2 md:col-4">Maximum Spend</label>
            <div class="col-12 md:col-8">
              <app-input-decimal formControlName="maximumSpend" textAlign="right"
                [showButtons]="false" [required]="false" id="maximumSpend" />
            </div>
          </div>
          <div class="field grid md:mb-2">
            <label for="expiryDate" class="col-12 mb-2 md:col-4">Only Individual</label>
            <div class="col-12 md:col-8">
              <app-input-switch formControlName="onlyIndivisual" />
            </div>
          </div>
        </p-tabPanel>
        
        <p-tabPanel header="Usage Limit">
          <div class="field grid md:mb-2">
            <label for="perCouponUsageLimit" class="col-12 mb-2 md:col-4">Per Coupon Usage Limit</label>
            <div class="col-12 md:col-8">
              <app-input-decimal formControlName="perCouponUsageLimit" textAlign="right"
                [showButtons]="false" [required]="false" id="perCouponUsageLimit" />
            </div>
          </div>
          <div class="field grid md:mb-2">
            <label for="perUserUsageLimit" class="col-12 mb-2 md:col-4 md:mb-0">Per User Usage Limit</label>
            <div class="col-12 md:col-8">
              <app-input-decimal formControlName="perUserUsageLimit" textAlign="right"
                [showButtons]="false" [required]="false" id="perUserUsageLimit" />
            </div>
          </div>
        </p-tabPanel>
        
      </p-tabView>
    </div>
    

    <div class="mt-3 p-dialog-footer">
      <app-button label="Cancel" type="button" icon="pi pi-times" [text]="true" severity="warning"
        (onClick)="cancel()" />
      <app-button label="Save" type="submit" icon="pi pi-check" [text]="true" [disabled]="form.invalid" />
    </div>
  </form>
</div>